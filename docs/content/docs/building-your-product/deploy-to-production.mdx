---
title: Deploy to Production
description: Complete guide for deploying your Kaizen application to production
---

import { Callout } from 'fumadocs-ui/components/callout';

<Callout title="Work in Progress" type="warning">
  This page is currently under construction. Some information may be incomplete or subject to change.
</Callout>


# Deploy to Production

:::warning
  You'll need to purchase a domain before deploying to production. Services like Clerk and Polar require a verified domain for production environments. Purchase a domain from providers like Namecheap, Porkbun, GoDaddy, or Google Domains before proceeding with production deployment.
:::

When you're ready to deploy your application to production, follow this comprehensive deployment guide.

## Prerequisites

- âœ… Purchased domain name
- âœ… Application working locally with all features configured
- âœ… All API keys and environment variables gathered
- âœ… Database schema finalized

## Production Deployment Checklist

### 1. Domain Setup

#### Purchase Domain
Choose and purchase a domain from a registrar like:
- Namecheap
- Porkbun
- GoDaddy
- Google Domains
- Cloudflare Registrar

#### Configure DNS
Railway will provide DNS instructions when you add your custom domain. Typically:
- Add `CNAME` record pointing to Railway's provided target
- Or use their nameservers for automatic configuration

### 2. Clerk Production Setup

#### Create Production App
1. Go to your Clerk Dashboard
2. Click "Add Application"
3. Choose your purchased domain
4. Configure authentication methods (same as development)

#### Configure DNS
Add the DNS records provided by Clerk to your domain registrar:
- TXT records for domain verification
- CNAME records for authentication flow

#### Create JWT Template
1. Go to **Configure** â†’ **JWT Templates**
2. Click **New template** â†’ **Convex**
3. **Save** the template (important!)
4. Copy the **Issuer** URL

#### Copy Production API Keys
From Clerk Dashboard â†’ **API Keys**:
- `VITE_CLERK_PUBLISHABLE_KEY`
- `CLERK_SECRET_KEY`

### 3. Polar.sh Production Setup

#### Create Production Organization
1. Go to [polar.sh](https://polar.sh)
2. Create a new organization
3. Set up the same products/prices as your sandbox

#### Copy Production Variables
From Polar Dashboard â†’ **Settings** â†’ **General**:
- **Access Token**: Settings â†’ General â†’ Developers â†’ New Token (all scopes, no expiration)
- **Organization ID**: Settings â†’ General â†’ Profile â†’ Identifier
- **Server**: Set to `production`

#### Configure Webhook
1. Get your Convex production HTTP URL (ends in `.convex.site`)
2. In Polar Dashboard â†’ **Settings** â†’ **Webhooks**
3. Add endpoint: `https://your-prod-deployment.convex.site/payments/webhook`
4. Format: **Raw**
5. Generate new secret and copy it

### 4. Convex Production Setup

#### Switch to Production Environment
1. Go to your Convex Dashboard
2. Switch to **Production** environment
3. All environment variables need to be reconfigured for production

#### Configure Environment Variables
Add all environment variables to Convex Production:

**Authentication:**
```bash
VITE_CLERK_FRONTEND_API_URL=https://your-app.clerk.accounts.dev  # From Clerk JWT template
```

**Payments:**
```bash
POLAR_ACCESS_TOKEN=polar_...
POLAR_ORGANIZATION_ID=...
POLAR_SERVER=production
POLAR_WEBHOOK_SECRET=whsec_...
FRONTEND_URL=https://yourdomain.com
```

**Email (if enabled):**
```bash
RESEND_API_KEY=re_...
SENDER_EMAIL=noreply@yourdomain.com
COMPANY_NAME=Your Company Name
RESEND_WEBHOOK_SECRET=whsec_...
```

**AI Chat (if enabled):**
```bash
OPENAI_API_KEY=sk-...
```

#### Generate Deploy Key
1. Go to Convex Dashboard â†’ **Settings**
2. Click **Generate Production Deploy Key**
3. Copy the key (starts with `convex_`)

### 5. Railway Deployment

#### Create Railway Project
1. Go to [railway.app](https://railway.app)
2. Click **New Project**
3. Select **Deploy from GitHub repo**
4. Choose your repository

#### Configure Build Settings
Railway will auto-detect your React Router application.

**Build Command:** (auto-detected)
```
npx convex deploy --cmd 'bun run build'
```

**Start Command:** (auto-detected)
```
bun run start
```

#### Set Environment Variables
Copy all environment variables from your `.env.local`:

**Clerk:**
```bash
VITE_CLERK_PUBLISHABLE_KEY=pk_live_...
CLERK_SECRET_KEY=sk_live_...
```

**Convex:**
```bash
VITE_CONVEX_URL=https://your-prod-deployment.convex.cloud
CONVEX_DEPLOYMENT=prod:your-deployment-name
CONVEX_DEPLOY_KEY=convex_...
```

**Domain:**
```bash
FRONTEND_URL=https://yourdomain.com
```

#### Deploy
Click **Deploy** and wait for the build to complete.

## Testing Production Deployment

### 1. Domain Configuration
- âœ… Visit `https://yourdomain.com` - should load your app
- âœ… Visit `https://www.yourdomain.com` - should redirect or load
- âœ… SSL certificate should be active (padlock icon)

### 2. Authentication Testing
- âœ… Sign up flow works
- âœ… Sign in flow works
- âœ… Password reset works
- âœ… Social logins work (if configured)

### 3. Payment Testing
- âœ… Pricing page loads
- âœ… Checkout flow works
- âœ… Test payment succeeds
- âœ… Webhook events are processed
- âœ… Subscription status updates correctly

### 4. Email Testing
- âœ… Email sending works
- âœ… Emails arrive in inbox (check spam)
- âœ… Email links work correctly

### 5. Core Features
- âœ… All main functionality works
- âœ… Real-time features work
- âœ… Error handling works
- âœ… Performance is acceptable

## Post-Deployment Tasks

### 1. Monitoring Setup
- Set up error tracking (Sentry)
- Configure performance monitoring
- Set up uptime monitoring

### 2. Backup Configuration
- Ensure database backups are configured
- Test backup restoration process

### 3. Security Review
- Review all environment variables
- Ensure no sensitive data is exposed
- Verify HTTPS everywhere

### 4. Documentation
- Update any internal documentation
- Document production environment setup
- Create runbooks for common issues

## Troubleshooting Common Issues

### Build Failures
- Check that all environment variables are set in Railway
- Verify Convex deploy key is correct
- Ensure build command is correct: `npx convex deploy --cmd 'bun run build'`
- Check Railway build logs for specific errors

### Authentication Issues
- Verify Clerk production app is configured correctly
- Check that JWT template is created and saved
- Ensure domain is verified in Clerk

### Payment Issues
- Confirm Polar webhook URL is correct
- Check webhook secret matches
- Verify Polar server is set to `production`

### Domain Issues
- Wait for DNS propagation (can take 24-48 hours)
- Check DNS records are configured correctly
- Clear DNS cache if needed

## Maintenance

### Regular Tasks
- Monitor error rates and performance
- Keep dependencies updated (carefully!)
- Review and rotate API keys periodically
- Monitor costs across all services

### Scaling Considerations
- Monitor usage patterns
- Plan for traffic spikes
- Consider CDN optimization
- Database performance monitoring

## Support

If you encounter issues during deployment:

1. Check the [troubleshooting section](#troubleshooting-common-issues)
2. Review the [setup guide](/building-your-product/setup-guide) again
3. Check GitHub Issues for similar problems
4. Create a new issue if needed

### 6. Deploy Documentation to Production

Kaizen includes a complete documentation site built with Fumadocs. You can deploy it as a subdomain (e.g., `docs.yourdomain.com`) for easy access.

#### Configure Documentation Deployment
1. In your Railway dashboard, create a new project for the documentation
2. Connect your GitHub repository
3. Set the **Root Directory** to `docs/` in the project settings

#### Set Build Configuration
Railway will auto-detect the Next.js app in the `docs/` folder.

**Build Command:** (auto-detected)
```
cd docs && bun run build
```

**Start Command:** (auto-detected)
```
cd docs && bun start
```

#### Configure Domain
1. In Railway project settings, go to **Settings** â†’ **Domains**
2. Add your documentation subdomain (e.g., `docs.yourdomain.com`)
3. Configure DNS records as instructed by Railway

#### Environment Variables
Copy any environment variables your documentation needs (usually none for basic setup)

#### Deploy
Click **Deploy** - your documentation will be available at your configured subdomain

### Documentation Maintenance

- **Automatic Updates**: Documentation deploys automatically when you push changes to the `docs/` folder
- **Versioning**: Consider creating versioned documentation for major releases
- **Search**: Fumadocs includes built-in search functionality
- **Analytics**: Add analytics tracking to understand documentation usage

:::note
  ðŸŽ‰ Congratulations! Your Kaizen application and documentation are now live in production. Start building amazing features for your users!
:::
